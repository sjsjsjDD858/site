<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Yarışma Zamanı</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@600&display=swap');
  body {
    font-family: 'Montserrat', Arial, sans-serif;
    background: url(https://st3.depositphotos.com/10599158/36989/v/450/depositphotos_369899330-stock-illustration-neon-quiz-sign-vector-design.jpg) no-repeat center center fixed;
    background-size: cover;
    margin: 0; padding: 0;
    color: #fff;
    overflow-x: hidden;
  }
  .overlay {
    position: fixed; top: 0; left: 0; right: 0; bottom: 0;
    background: rgba(0,0,0,0.7);
    z-index: 0;
  }
  .container {
    max-width: 600px;
    margin: 40px auto;
    background: rgba(0,0,0,0.85);
    padding: 30px 40px 50px;
    border-radius: 12px;
    box-shadow: 0 0 20px rgba(255,255,255,0.2);
    position: relative;
    z-index: 1;
    text-align: center;
  }
  h1, h2 {
    color: #ffcc00;
    margin-bottom: 10px;
    text-shadow: 1px 1px 4px #000;
  }
  p.description {
    font-size: 16px;
    color: #ddd;
    margin-bottom: 25px;
  }
  input#username {
    padding: 10px;
    font-size: 16px;
    width: 60%;
    border-radius: 6px;
    border: none;
    outline: none;
    text-align: center;
  }
  button {
    padding: 12px 25px;
    font-size: 16px;
    background-color: #ffcc00;
    border: none;
    border-radius: 6px;
    color: #222;
    cursor: pointer;
    transition: background-color 0.3s ease;
    margin-top: 15px;
    font-weight: 700;
    box-shadow: 0 4px 6px rgba(255,204,0,0.7);
  }
  button:hover:not(:disabled) {
    background-color: #e6b800;
  }
  button:disabled {
    background-color: #555;
    cursor: not-allowed;
    box-shadow: none;
    color: #aaa;
  }
  .question {
    font-size: 22px;
    margin-bottom: 20px;
    min-height: 60px;
    font-weight: 700;
    color: #ffeb3b;
    text-shadow: 1px 1px 3px #000;
  }
  .options button {
    display: block;
    width: 100%;
    margin: 10px 0;
    padding: 12px;
    font-size: 18px;
    background-color: #444;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    color: #fff;
    text-shadow: 1px 1px 2px #000;
    transition: background-color 0.3s ease;
  }
  .options button:hover:not(.disabled) {
    background-color: #666;
  }
  .options button.correct {
    background-color: #4caf50 !important;
    color: white;
    box-shadow: 0 0 10px #4caf50;
  }
  .options button.wrong {
    background-color: #f44336 !important;
    color: white;
    box-shadow: 0 0 10px #f44336;
  }
  .start-screen, .quiz-screen, .result-screen {
    display: none;
  }
  .show {
    display: block;
  }
  #timer {
    font-size: 20px;
    color: #fff;
    margin-bottom: 15px;
    font-weight: 700;
    text-shadow: 1px 1px 3px #000;
  }
  #scoreboard {
    position: fixed;
    top: 20px;
    right: 30px;
    font-size: 22px;
    font-weight: 700;
    color: #ffcc00;
    text-shadow: 1px 1px 3px #000;
    z-index: 100;
    user-select: none;
  }
  #scoreAnim {
    position: fixed;
    right: 30px;
    top: 60px;
    font-size: 28px;
    font-weight: 700;
    color: #ffcc00;
    opacity: 0;
    pointer-events: none;
    user-select: none;
    animation: fadeUp 1s forwards;
    text-shadow: 1px 1px 3px #000;
    z-index: 100;
  }
  @keyframes fadeUp {
    0% { opacity: 1; transform: translateY(0); }
    100% { opacity: 0; transform: translateY(-30px); }
  }
  #pointShopBtn {
    position: fixed;
    top: 80px;
    right: 30px;
    background-color: #ffcc00;
    border: none;
    padding: 10px 15px;
    border-radius: 6px;
    font-weight: 700;
    cursor: pointer;
    box-shadow: 0 4px 6px rgba(255,204,0,0.7);
    z-index: 20;
  }
  #pointShopPanel {
    position: fixed;
    top: 120px;
    right: 30px;
    width: 250px;
    background: rgba(0,0,0,0.9);
    border-radius: 12px;
    padding: 15px 20px;
    box-shadow: 0 0 20px rgba(255,204,0,0.9);
    display: none;
    z-index: 19;
    color: #fff;
  }
  #pointShopPanel h3 {
    margin-top: 0;
    margin-bottom: 15px;
    color: #ffcc00;
    text-align: center;
  }
  .item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
    padding: 10px 12px;
    border: 1px solid #ffcc00;
    border-radius: 8px;
    background-color: #222;
  }
  .item img { width: 32px; height: 32px; margin-right: 10px; }
  .item span { flex: 1; text-align: left; padding-left: 10px; }
  .item button {
    background-color: #ffcc00;
    padding: 6px 14px;
    font-size: 14px;
    border-radius: 6px;
    transition: background-color 0.3s ease;
    color: #222;
    font-weight: 700;
  }
  .item button:hover:not(:disabled) { background-color: #e6b800; }
  .item button:disabled { background-color: #555; cursor: not-allowed; color: #aaa; }

  #resultText {
    font-weight: 700;
    font-size: 22px;
    margin-bottom: 20px;
    color: #ffeb3b;
    text-shadow: 1px 1px 3px #000;
  }
  #messageBox {
    margin-top: 15px;
    font-weight: 700;
    color: #ffcc00;
    text-shadow: 1px 1px 3px #000;
    min-height: 24px;
  }
</style>
</head>
<body>

<div class="overlay"></div>

<div class="container">

  <div class="start-screen show">
    <h1>Yarışmaya Hoş Geldin!</h1>
    <p class="description">
      Bu quizde sorular seni bekliyor.<br>
      Her sorunun süresi 10 saniye.<br>
      Her doğru cevap 1 puan kazandırır.<br>
      Puanlarını point shop'ta harcayabilirsin!<br>
      Yarışma başladıktan sonra mağaza kapanır.
    </p>
    <input type="text" id="username" placeholder="Adını yaz..." />
    <br />
    <button id="startBtn">Başla</button>
  </div>

  <div class="quiz-screen">
    <h2 id="welcome"></h2>
    <div id="timer">Süre: 10</div>
    <div id="scoreboard">Puan: 0</div>
    <div class="question" id="questionText"></div>
    <div class="options" id="optionsContainer"></div>
    <div id="messageBox"></div>
  </div>

  <div class="result-screen">
    <h2>Yarışma Bitti!</h2>
    <p id="resultText"></p>
    <button onclick="location.reload()">Yeniden Başla</button>
  </div>
</div>

<button id="pointShopBtn">Point Shop</button>
<div id="pointShopPanel">
  <h3>Point Shop</h3>
  <div class="item">
    <img src="https://img.icons8.com/emoji/48/000000/bus-emoji.png" alt="Otobüs" />
    <span>Otobüs Bileti (60 puan)</span>
    <button onclick="buyItem('busTicket', 60)">Satın Al</button>
  </div>
</div>

<div id="scoreAnim">+1</div>

<script>
  const startBtn = document.getElementById('startBtn');
  const usernameInput = document.getElementById('username');
  const startScreen = document.querySelector('.start-screen');
  const quizScreen = document.querySelector('.quiz-screen');
  const resultScreen = document.querySelector('.result-screen');
  const welcomeText = document.getElementById('welcome');
  const questionText = document.getElementById('questionText');
  const optionsContainer = document.getElementById('optionsContainer');
  const timerText = document.getElementById('timer');
  const scoreboard = document.getElementById('scoreboard');
  const messageBox = document.getElementById('messageBox');
  const pointShopBtn = document.getElementById('pointShopBtn');
  const pointShopPanel = document.getElementById('pointShopPanel');
  const scoreAnim = document.getElementById('scoreAnim');

  let username = '';
  let currentQuestionIndex = 0;
  let score = parseInt(localStorage.getItem('userScore')) || 0;
  let timer;
  let timeLeft = 10;
  let quizStarted = false;

  // Kullanıcı eşyaları
  let userItems = JSON.parse(localStorage.getItem('userItems')) || { busTicket: 0 };

 const questions = [
  { question: "Dünyanın en büyük kıtası hangisidir?", options: ["Asya", "Afrika", "Avrupa", "Amerika"], answer: "Asya" },
  { question: "İnsan vücudunda kaç kemik vardır?", options: ["210", "198", "206", "180"], answer: "206" },
  { question: "Hangi gezegen 'Kızıl Gezegen' olarak bilinir?", options: ["Venüs", "Mars", "Jüpiter", "Merkür"], answer: "Mars" },
  { question: "Dünyanın en uzun nehri hangisidir?", options: ["Amazon", "Nil", "Mississippi", "Yangtze"], answer: "Nil" },
  { question: "En sert doğal madde nedir?", options: ["Elmas", "Demir", "Altın", "Gümüş"], answer: "Elmas" },
  { question: "Hangi ülke pizza ile ünlüdür?", options: ["Fransa", "İtalya", "İspanya", "Almanya"], answer: "İtalya" },
  { question: "Elektriğin birimi nedir?", options: ["Volt", "Amper", "Watt", "Ohm"], answer: "Amper" },
  { question: "Dünyanın uydusu hangisidir?", options: ["Ay", "Mars", "Güneş", "Venüs"], answer: "Ay" },
  { question: "Türkiye kaç bölgeden oluşur?", options: ["6", "7", "8", "9"], answer: "7" },
  { question: "En büyük gezegen hangisidir?", options: ["Mars", "Venüs", "Dünya", "Jüpiter"], answer: "Jüpiter" },

  { question: "İnsan kalbi kaç odacıktan oluşur?", options: ["4", "3", "2", "5"], answer: "4" },
  { question: "Hangi hayvan uçar?", options: ["Kedi", "Yarasa", "At", "Tavşan"], answer: "Yarasa" },
  { question: "Türkiye'nin para birimi nedir?", options: ["TL", "Euro", "Dolar", "Sterlin"], answer: "TL" },
  { question: "Güneş bir...", options: ["Yıldız", "Gezegen", "Uydu", "Meteor"], answer: "Yıldız" },
  { question: "En hızlı kara hayvanı hangisidir?", options: ["Aslan", "At", "Çita", "Köpek"], answer: "Çita" },
  { question: "Hangi gaz solunum için gereklidir?", options: ["Azot", "Karbondioksit", "Oksijen", "Helyum"], answer: "Oksijen" },
  { question: "Bir yılda kaç ay vardır?", options: ["11", "12", "10", "13"], answer: "12" },
  { question: "En büyük okyanus hangisidir?", options: ["Atlantik", "Pasifik", "Hint", "Arktik"], answer: "Pasifik" },
  { question: "Hangi meyve sarıdır?", options: ["Kiraz", "Muz", "Elma", "Üzüm"], answer: "Muz" },
  { question: "Atatürk hangi yıl doğmuştur?", options: ["1881", "1880", "1882", "1883"], answer: "1881" },

  { question: "Türkiye'nin başkenti neresidir?", options: ["İstanbul", "Ankara", "İzmir", "Bursa"], answer: "Ankara" },
  { question: "Dünyanın en yüksek dağı hangisidir?", options: ["K2", "Everest", "Alpler", "Andlar"], answer: "Everest" },
  { question: "Su kaç derecede donar?", options: ["0°C", "10°C", "50°C", "100°C"], answer: "0°C" },
  { question: "Güneş'e en yakın gezegen hangisidir?", options: ["Venüs", "Merkür", "Mars", "Jüpiter"], answer: "Merkür" },
  { question: "RGB sisteminde olmayan renk hangisidir?", options: ["Sarı", "Kırmızı", "Mavi", "Yeşil"], answer: "Sarı" },
  { question: "Türkiye'nin en uzun nehri hangisidir?", options: ["Fırat", "Kızılırmak", "Dicle", "Sakarya"], answer: "Kızılırmak" },
  { question: "Cumhuriyet hangi yıl ilan edilmiştir?", options: ["1920", "1923", "1918", "1930"], answer: "1923" },
  { question: "Ay Dünya etrafında kaç günde döner?", options: ["7", "28", "14", "365"], answer: "28" },
  { question: "Işık hızından hızlı bir şey var mı?", options: ["Hayır", "Evet", "Bazen", "Bilimsel değil"], answer: "Hayır" },
  { question: "Hangi element suyun kimyasal formülünde yoktur?", options: ["Hidrojen", "Oksijen", "Azot", "He"], answer: "Azot" },

  { question: "Hangi ülke 'Eiffel Kulesi'ne ev sahipliği yapar?", options: ["Fransa", "İtalya", "İspanya", "Almanya"], answer: "Fransa" },
  { question: "Hangi organ kanı temizler?", options: ["Böbrek", "Kalp", "Akciğer", "Karaciğer"], answer: "Böbrek" },
  { question: "Ay'ın Dünya etrafındaki dönüş süresi nedir?", options: ["24 saat", "7 gün", "28 gün", "365 gün"], answer: "28 gün" },
  { question: "Hangi şehir 'Şeyh Zayed Camii'ne ev sahipliği yapar?", options: ["Abu Dhabi", "Dubai", "Kahire", "İstanbul"], answer: "Abu Dhabi" },
  { question: "Hangisi bir programlama dili değildir?", options: ["HTML", "Python", "JavaScript", "CSS"], answer: "HTML" },
  { question: "Bir haftada kaç gün vardır?", options: ["5", "6", "8", "7"], answer: "7" },
  { question: "Hangi gezegen en büyüktür?", options: ["Mars", "Dünya", "Venüs", "Jüpiter"], answer: "Jüpiter" },
  { question: "Hangi dil dünya genelinde en çok konuşulan anadil olarak kabul edilir?", options: ["İngilizce", "Çince (Mandarin)", "İspanyolca", "Hintçe"], answer: "Çince (Mandarin)" },
  { question: "Hangi hayvan uçabilir?", options: ["At", "Yarasa", "Kedi", "Tavşan"], answer: "Yarasa" },
  { question: "Elektrik birimi nedir?", options: ["Watt", "Volt", "Amper", "Ohm"], answer: "Amper" },

  { question: "Hangi yıl Türkiye Cumhuriyeti ilan edilmiştir?", options: ["1918", "1923", "1920", "1930"], answer: "1923" },
  { question: "Hangi gezegen Güneş'e en yakındır?", options: ["Merkür", "Venüs", "Mars", "Jüpiter"], answer: "Merkür" },
  { question: "En hızlı hayvan hangisidir?", options: ["Kaplan", "At", "Çita", "Kurt"], answer: "Çita" },
  { question: "Hangi renk RGB renk modelinde yoktur?", options: ["Sarı", "Kırmızı", "Yeşil", "Mavi"], answer: "Sarı" },
  { question: "Türkiye kaç bölgedir?", options: ["6", "7", "8", "9"], answer: "7" },
  { question: "En büyük okyanus hangisidir?", options: ["Hint", "Pasifik", "Atlantik", "Arktik"], answer: "Pasifik" },
  { question: "Hangi gaz insanlar için gereklidir?", options: ["Oksijen", "Helyum", "Azot", "Karbondioksit"], answer: "Oksijen" },
  { question: "Atatürk'ün doğum yılı nedir?", options: ["1881", "1880", "1882", "1883"], answer: "1881" },
  { question: "Işık hızından daha hızlı ne olabilir?", options: ["Ses", "Hiçbir şey", "Elektron", "Radyo dalgaları"], answer: "Hiçbir şey" },
  { question: "Hangi organ insan vücudunda detoks yapar?", options: ["Böbrek", "Karaciğer", "Akciğer", "Kalp"], answer: "Böbrek" },

  { question: "En hızlı uçabilen kuş hangisidir?", options: ["Serçe", "Kartal", "Albatros", "Sokak kuşu"], answer: "Kartal" },
  { question: "Dünyada en çok konuşulan ikinci dil hangisidir?", options: ["İspanyolca", "İngilizce", "Fransızca", "Almanca"], answer: "İspanyolca" },
  { question: "Dünya üzerinde en büyük çöl hangisidir?", options: ["Sahara", "Gobi", "Kalahari", "Atacama"], answer: "Sahara" },
  { question: "En uzun insan boyu rekoru kime aittir?", options: ["Robert Wadlow", "Sultan Kösen", "Andre the Giant", "Leonid Stadnyk"], answer: "Robert Wadlow" },
  { question: "Hangi metal iletkenliği en yüksek olanıdır?", options: ["Bakır", "Alüminyum", "Altın", "Demir"], answer: "Bakır" },
  { question: "Hangi ülke çay ile ünlüdür?", options: ["Hindistan", "İngiltere", "Çin", "Japonya"], answer: "İngiltere" },
  { question: "Hangi gezegen halkaları ile ünlüdür?", options: ["Satürn", "Jüpiter", "Mars", "Venüs"], answer: "Satürn" },
  { question: "Hangi hayvanın boynuzu vardır?", options: ["Geyik", "Kedi", "Köpek", "At"], answer: "Geyik" },
  { question: "Hangi elementin sembolü 'O' dur?", options: ["Oksijen", "Altın", "Hidrojen", "Gümüş"], answer: "Oksijen" },
  { question: "Dünyanın en kirli şehri hangisidir?", options: ["Çin", "Pakistan", "Hindistan", "Suriye"], answer: "Hindistan" }
];


  function updateScore(newScore){
    score = newScore;
    scoreboard.textContent = `Puan: ${score}`;
    localStorage.setItem('userScore', score);
  }

  function animateScore(points){
    scoreAnim.textContent = `+${points}`;
    scoreAnim.style.opacity = '1';
    scoreAnim.style.animation = 'none';
    void scoreAnim.offsetWidth;
    scoreAnim.style.animation = 'fadeUp 1s forwards';
  }

  let shopOpen = true;

  pointShopBtn.addEventListener('click', () => {
    if(!shopOpen){ alert('Yarışma başladı, mağaza kapandı!'); return; }
    pointShopPanel.style.display = pointShopPanel.style.display==='block'?'none':'block';
  });

  function buyItem(item,cost){
    if(!shopOpen){ alert('Yarışma başladı, mağaza kapandı!'); return; }
    if(score >= cost){
      userItems[item]++;
      updateScore(score - cost);
      localStorage.setItem('userItems', JSON.stringify(userItems));
      alert('Otobüs bileti satın alındı! (5 TL değerinde)');
    } else { alert('Yeterli puanın yok!'); }
  }

  startBtn.addEventListener('click', ()=>{
    username = usernameInput.value.trim();
    if(username.length<2){ alert('Lütfen adını düzgün gir!'); return; }
    startScreen.classList.remove('show');
    quizScreen.classList.add('show');
    welcomeText.textContent = `Hoşgeldin, ${username}!`;
    shopOpen = false;
    pointShopPanel.style.display='none';
    quizStarted = true;
    currentQuestionIndex=0;
    updateScore(score);
    loadQuestion();
  });

  function loadQuestion(){
    clearMessage();
    timeLeft=10;
    timerText.textContent=`Süre: ${timeLeft}`;
    questionText.textContent = questions[currentQuestionIndex].question;
    optionsContainer.innerHTML='';
    questions[currentQuestionIndex].options.forEach(option=>{
      const btn=document.createElement('button');
      btn.textContent=option;
      btn.onclick=()=>answerQuestion(btn,option);
      optionsContainer.appendChild(btn);
    });
    timer=setInterval(()=>{
      timeLeft--;
      timerText.textContent=`Süre: ${timeLeft}`;
      if(timeLeft===0){
        clearInterval(timer);
        disableOptions();
        showCorrectAnswer();
        setTimeout(nextQuestion,2000);
      }
    },1000);
  }

  function answerQuestion(btn,selected){
    if(timer===null) return;
    clearInterval(timer);
    disableOptions();
    const correctAnswer = questions[currentQuestionIndex].answer;
    if(selected===correctAnswer){
      btn.classList.add('correct');
      showMessage('Doğru!',true);
      updateScore(score+1);
      animateScore(1);
    } else {
      btn.classList.add('wrong');
      showMessage(`Yanlış! Doğru cevap: ${correctAnswer}`,false);
      showCorrectAnswer();
    }
    setTimeout(nextQuestion,2000);
  }

  function disableOptions(){ [...optionsContainer.children].forEach(btn=>btn.disabled=true); timer=null; }

  function showCorrectAnswer(){ [...optionsContainer.children].forEach(btn=>{ if(btn.textContent===questions[currentQuestionIndex].answer) btn.classList.add('correct'); }); }

  function nextQuestion(){ 
    currentQuestionIndex++;
    if(currentQuestionIndex>=questions.length) endQuiz(); 
    else loadQuestion(); 
  }

  function endQuiz(){
    quizScreen.classList.remove('show');
    resultScreen.classList.add('show');
    document.getElementById('resultText').textContent=`${username}, toplam puanın: ${score}`;
  }

  function showMessage(text,correct){ messageBox.textContent=text; messageBox.style.color=correct?'#4caf50':'#f44336'; }
  function clearMessage(){ messageBox.textContent=''; }
</script>

</body>
</html>
